# edit_expenditure.html{% extends "base.html" %}
{% block title %}Edit Expenditure{% endblock %}
{% block content %}

<div class="summary-wrapper">
    <h1>Edit Expenditure</h1>

    <form method="POST" class="data-form" novalidate>
        <div class="form-group">
            <label for="expenditure-name">Expenditure Name</label>
            <input type="text" id="expenditure-name" name="name"
                   value="{{ expenditure.name }}"
                   required minlength="2">
            <span class="error-message" id="name-error"></span>
        </div>

        <div class="form-group">
            <label for="expenditure-amount">Amount</label>
            <input type="number" id="expenditure-amount" name="amount"
                   value="{{ expenditure.amount }}"
                   step="0.01" min="0.01" required>
            <span class="error-message" id="amount-error"></span>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">Update Expenditure</button>
            <a href="{{ url_for('expenditures') }}" class="btn-secondary">Cancel</a>
        </div>
    </form>
</div>

{% endblock %}

        const amount = parseFloat(amountInput.value);
        if (isNaN(amount) || amount <= 0) {
            amountError.textContent = 'Amount must be a positive number';
            return false;
        }
        amountError.textContent = '';
        return true;
    }

    nameInput.addEventListener('blur', validateName);
    amountInput.addEventListener('blur', validateAmount);

    form.addEventListener('submit', function(e) {
        if (!validateName() || !validateAmount()) {
            e.preventDefault();
        }
    });
});
</script>
{% endblock %}